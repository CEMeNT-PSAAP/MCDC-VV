import mcdc
import numpy as np


##############################
#__________Materials__________
##############################

# Material Name: Layer 1
# Depletable
m1 = mcdc.material(nuclides=[
	['Pu239',0.036182],
	['Pu240',0.00066143],
	['Ga69',0.001291480488],
	['Ga71',0.0008571195120000001],
	['Fe54',9.388823500000002e-06],
	['Fe56',0.00014738445020000002],
	['Fe57',3.4037497000000004e-06],
	['Fe58',4.529766e-07],
	['C0',0.00029874],
	['Ni58',0.0028952424801],
	['Ni60',0.0011152422199000001],
	['Ni61',4.8478807100000005e-05],
	['Ni62',0.00015457165050000002],
	['Ni64',3.936484240000001e-05]])
# Material Name: Layer 2
# Depletable
m2 = mcdc.material(nuclides=[
	['Pu239',0.036826],
	['Pu240',0.0006732000000000001],
	['Ga69',0.001322376],
	['Ga71',0.000877624],
	['Fe54',8.600333e-06],
	['Fe56',0.00013500683560000002],
	['Fe57',3.1178966e-06],
	['Fe58',4.1493480000000007e-07],
	['C0',0.00030406],
	['Ni58',0.0010703050217999999],
	['Ni60',0.00041227957819999996],
	['Ni61',1.79215078e-05],
	['Ni62',5.714160900000001e-05],
	['Ni64',1.45522832e-05]])
# Material Name: Layer 3
# Depletable
m3 = mcdc.material(nuclides=[
	['Pu239',0.036711],
	['Pu240',0.00067117],
	['Ga69',0.0013340369519999997],
	['Ga71',0.0008853630479999999],
	['Fe54',7.6212955e-06],
	['Fe56',0.0001196380406],
	['Fe57',2.7629641000000003e-06],
	['Fe58',3.6769979999999995e-07],
	['C0',0.00030315],
	['Ni58',0.00132069186],
	['Ni60',0.00050872814],
	['Ni61',2.2114059999999996e-05],
	['Ni62',7.05093e-05],
	['Ni64',1.7956640000000003e-05]])
# Material Name: Layer 4
# Depletable
m4 = mcdc.material(nuclides=[
	['Pu239',0.036632],
	['Pu240',0.0006695800000000001],
	['Ga69',0.0013230972959999995],
	['Ga71',0.0008781027039999999],
	['Fe54',7.6037605e-06],
	['Fe56',0.0001193627786],
	['Fe57',2.7566071000000003e-06],
	['Fe58',3.668538e-07],
	['C0',0.00022682000000000003],
	['Ni58',0.0015747548507999997],
	['Ni60',0.0006065927492],
	['Ni61',2.63681668e-05],
	['Ni62',8.407325400000001e-05],
	['Ni64',2.14109792e-05]])
# Material Name: Layer 5
# Depletable
m5 = mcdc.material(nuclides=[
	['Pu239',0.036725],
	['Pu240',0.0006715000000000001],
	['Ga69',0.0013346981399999997],
	['Ga71',0.0008858018599999999],
	['Fe54',8.5787065e-06],
	['Fe56',0.0001346673458],
	['Fe57',3.1100563000000004e-06],
	['Fe58',4.1389139999999995e-07],
	['C0',0.00030329],
	['Ni58',0.0012734464914],
	['Ni60',0.0004905293086],
	['Ni61',2.13229694e-05],
	['Ni62',6.798695700000001e-05],
	['Ni64',1.73142736e-05]])
# Material Name: Layer 6
# Depletable
m6 = mcdc.material(nuclides=[
	['Pu239',0.036654],
	['Pu240',0.00066998],
	['Ga69',0.001308190512],
	['Ga71',0.0008682094880000001],
	['Fe54',8.5588335e-06],
	['Fe56',0.00013435538219999998],
	['Fe57',3.1028517e-06],
	['Fe58',4.129326e-07],
	['C0',0.00030261],
	['Ni58',0.0013488756966],
	['Ni60',0.0005195845034],
	['Ni61',2.2585978599999996e-05],
	['Ni62',7.2013983e-05],
	['Ni64',1.83398384e-05]])
# Material Name: Steel reflector
m7 = mcdc.material(nuclides=[
	['Fe54',0.00465010665],
	['Fe56',0.07299672978],
	['Fe57',0.0016858128300000002],
	['Fe58',0.00022435074],
	['C0',0.0011289],
	['Si28',0.000148425224024],
	['Si29',7.536609388e-06],
	['Si30',4.968166588e-06],
	['Cr50',1.1330891e-05],
	['Cr52',0.0002185049542],
	['Cr53',2.47767078e-05],
	['Cr54',6.167447000000001e-06],
	['Mn55',0.00032909],
	['Ni58',0.00015728486976],
	['Ni60',6.0585850240000005e-05],
	['Ni61',2.6336249599999996e-06],
	['Ni62',8.3971488e-06],
	['Ni64',2.13850624e-06],
	['Cu63',0.00014755227],
	['Cu65',6.582773e-05]])
mvoid = mcdc.material(nuclides=[['N14',1e-10]])
##############################
#__________Geometry__________
##############################

# Surface(s)
s1 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=1.4, bc='interface')
s2 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=3.15, bc='interface')
s3 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=4.02, bc='interface')
s4 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=4.66, bc='interface')
s5 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=5.35, bc='interface')
s6 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=6.0, bc='interface')
s7 = mcdc.surface('sphere', center=[0.0, 0.0, 0.0], radius=7.55, bc='vacuum')

# Material Cell(s)
c1 = mcdc.cell(-s1, fill=m1)
c2 = mcdc.cell(+s1 & -s2, fill=m2)
c3 = mcdc.cell(+s2 & -s3, fill=m3)
c4 = mcdc.cell(+s3 & -s4, fill=m4)
c5 = mcdc.cell(+s4 & -s5, fill=m5)
c6 = mcdc.cell(+s5 & -s6, fill=m6)
c7 = mcdc.cell(+s6 & -s7, fill=m7)
# Root Universe Cells List:
u0_cells = []
# Material Universe(s)

##############################
#__________Settings__________
##############################

# Simulation Parameters
mcdc.eigenmode(N_inactive=20, N_active=180)
mcdc.setting(N_particle=10000)

# Source Parameters
# Particle: neutron
# Space Type: box
mcdc.source(x=[-1.0,1.0], y=[-1.0,1.0], z=[-1.0,1.0], prob=1.0)

mcdc.run()

