import mcdc
import numpy as np


##############################
#__________Materials__________
##############################

# Material Name: Inner Core 1
# Depletable
m1 = mcdc.material(nuclides=[
	['Pu240',0.000117624],
	['U235',1.26065e-05],
	['U238',0.0057929],
	['Pu239',0.0008865280000000001],
	['Pu238',3.33696e-07],
	['Pu242',1.40289e-06],
	['Am241',2.95925e-06],
	['Cr50',0.00011702996800000003],
	['Cr52',0.0022568064416],
	['Cr53',0.0002559037344],
	['Cr54',6.369985600000001e-05],
	['Ni58',0.00081551360817],
	['Ni60',0.00031413438183],
	['Ni61',1.3655204069999999e-05],
	['Ni62',4.3538765850000004e-05],
	['Ni64',1.1088040080000001e-05],
	['Fe54',0.0007517312950000002],
	['Fe56',0.011800573694],
	['Fe57',0.000272526709],
	['Fe58',3.6268302e-05],
	['Al27',4.02385e-06],
	['Na23',0.00927752],
	['O16',0.0137473877646],
	['O17',5.2122354e-06],
	['C0',3.66446e-05],
	['Mo100',2.300158896e-05],
	['Mo92',3.458028291e-05],
	['Mo94',2.1686740329999997e-05],
	['Mo95',3.746964507e-05],
	['Mo96',3.935811707e-05],
	['Mo97',2.261917338e-05],
	['Mo98',5.734345228e-05],
	['Mn55',0.000225651],
	['Cu63',1.706545935e-05],
	['Cu65',7.61344065e-06],
	['Si28',0.00014975702060319998],
	['Si29',7.6042342184e-06],
	['Si30',5.012745178399999e-06],
	['Cl35',2.2608944126999995e-07],
	['Cl37',7.232055873e-08],
	['Co59',8.32631e-07]])
# Material Name: Outer Core 1
# Depletable
m2 = mcdc.material(nuclides=[
	['Pu240',0.00011775099999999999],
	['U235',1.2660000000000002e-05],
	['U238',0.00581701],
	['Pu239',0.000887794],
	['Pu238',4.7005600000000006e-07],
	['Pu242',1.76624e-06],
	['Am241',2.40381e-06],
	['Cr50',0.00011684791249999999],
	['Cr52',0.0022532956825],
	['Cr53',0.0002555056425],
	['Cr54',6.36007625e-05],
	['Ni58',0.0008093390333399999],
	['Ni60',0.00031175594666],
	['Ni61',1.3551815139999998e-05],
	['Ni62',4.32091167e-05],
	['Ni64',1.100408816e-05],
	['Fe54',0.00077442743],
	['Fe56',0.012156854476],
	['Fe57',0.000280754786],
	['Fe58',3.7363308e-05],
	['Al27',3.6239e-06],
	['Na23',0.00912725],
	['O16',0.0142657912152],
	['O17',5.4087848e-06],
	['C0',3.40434e-05],
	['Mo100',2.329566288e-05],
	['Mo92',3.502238973e-05],
	['Mo94',2.196400399e-05],
	['Mo95',3.794869221e-05],
	['Mo96',3.986130821e-05],
	['Mo97',2.2908358140000002e-05],
	['Mo98',5.807658484000001e-05],
	['Mn55',0.000224037],
	['Cu63',1.717195035e-05],
	['Cu65',7.660949650000001e-06],
	['Si28',0.000142905277676],
	['Si29',7.256322261999999e-06],
	['Si30',4.783400062e-06],
	['Cl35',2.2513935193199998e-07],
	['Cl37',7.2016648068e-08],
	['Co59',1.69138e-07]])
# Material Name: Inner Axial reflector 1
# Depletable
m4 = mcdc.material(nuclides=[
	['U235',8.29314e-05],
	['U238',0.0371138],
	['Cr50',7.15365145e-05],
	['Cr52',0.0013795104749],
	['Cr53',0.0001564254141],
	['Cr54',3.8937596500000005e-05],
	['Ni58',0.000469304448606],
	['Ni60',0.000180775233394],
	['Ni61',7.858174225999999e-06],
	['Ni62',2.5055298030000005e-05],
	['Ni64',6.380845744000001e-06],
	['Fe54',0.0003542216125],
	['Fe56',0.005560521785],
	['Fe57',0.0001284166975],
	['Fe58',1.7089905e-05],
	['C0',3.67281e-05],
	['Mo100',1.03486152e-06],
	['Mo92',1.555797045e-06],
	['Mo94',9.757053349999998e-07],
	['Mo95',1.685791965e-06],
	['Mo96',1.770755965e-06],
	['Mo97',1.01765631e-06],
	['Mo98',2.57993186e-06],
	['Mn55',0.000143193],
	['Cu63',1.365138555e-05],
	['Cu65',6.0903144500000005e-06],
	['Si28',9.79737444704e-05],
	['Si29',4.9748272048e-06],
	['Si30',3.2794283248e-06]])
# Material Name: Outer Axial Reflector 1
# Depletable
m5 = mcdc.material(nuclides=[
	['U235',8.27657e-05],
	['U238',0.0370414],
	['Cr50',7.191235700000001e-05],
	['Cr52',0.0013867582234000002],
	['Cr53',0.00015724725060000001],
	['Cr54',3.9142169e-05],
	['Ni58',0.00047166195165299996],
	['Ni60',0.000181683339347],
	['Ni61',7.897648963e-06],
	['Ni62',2.5181160765e-05],
	['Ni64',6.412899272e-06],
	['Fe54',0.0003558523675],
	['Fe56',0.005586121151],
	['Fe57',0.0001290078985],
	['Fe58',1.7168583e-05],
	['C0',3.66405e-05],
	['Mo100',1.04002584e-06],
	['Mo92',1.563561015e-06],
	['Mo94',9.80574445e-07],
	['Mo95',1.694204655e-06],
	['Mo96',1.779592655e-06],
	['Mo97',1.02273477e-06],
	['Mo98',2.59280662e-06],
	['Mn55',0.000143788],
	['Cu63',1.3704147e-05],
	['Cu65',6.113852999999999e-06],
	['Si28',9.784370062160001e-05],
	['Si29',4.9682239492e-06],
	['Si30',3.2750754292e-06]])
# Material Name: Inner Axial reflector 2
# Depletable
m6 = mcdc.material(nuclides=[
	['U235',8.65264e-05],
	['U238',0.0387479],
	['Cr50',6.2989465e-05],
	['Cr52',0.001214689133],
	['Cr53',0.000137735997],
	['Cr54',3.4285405e-05],
	['Ni58',0.00041357805980399997],
	['Ni60',0.000159309528196],
	['Ni61',6.925074884e-06],
	['Ni62',2.208016902e-05],
	['Ni64',5.623168096e-06],
	['Fe54',0.00030717228500000003],
	['Fe56',0.0048219479620000005],
	['Fe57',0.000111359807],
	['Fe58',1.4819946e-05],
	['C0',2.71677e-05],
	['Mo100',9.784535040000001e-07],
	['Mo92',1.4709939840000002e-06],
	['Mo94',9.225217919999999e-07],
	['Mo95',1.593903168e-06],
	['Mo96',1.674235968e-06],
	['Mo97',9.62186112e-07],
	['Mo98',2.439305472e-06],
	['Mn55',0.000127167],
	['Cu63',1.3185452850000002e-05],
	['Cu65',5.882447149999999e-06],
	['Si28',8.780551448008e-05],
	['Si29',4.45851349796e-06],
	['Si30',2.9390720219599996e-06]])
# Material Name: Outer Axial Reflector 2
# Depletable
m7 = mcdc.material(nuclides=[
	['U235',8.55655e-05],
	['U238',0.0383153],
	['Cr50',6.37937245e-05],
	['Cr52',0.0012301984769],
	['Cr53',0.0001394946321],
	['Cr54',3.47231665e-05],
	['Ni58',0.00041871786575400005],
	['Ni60',0.000161289372246],
	['Ni61',7.011137334000001e-06],
	['Ni62',2.2354573770000004e-05],
	['Ni64',5.693050896e-06],
	['Fe54',0.00031093412700000005],
	['Fe56',0.0048810008364],
	['Fe57',0.00011272359540000001],
	['Fe58',1.50014412e-05],
	['C0',2.73042e-05],
	['Mo100',9.94336224e-07],
	['Mo92',1.4948718540000005e-06],
	['Mo94',9.374966020000001e-07],
	['Mo95',1.6197761580000003e-06],
	['Mo96',1.7014129580000001e-06],
	['Mo97',9.778047720000001e-07],
	['Mo98',2.4789014320000002e-06],
	['Mn55',0.000128523],
	['Cu63',1.328668845e-05],
	['Cu65',5.9276115499999996e-06],
	['Si28',8.804540387776001e-05],
	['Si29',4.47069439712e-06],
	['Si30',2.9471017251200004e-06]])
# Material Name: Radial Reflector 1
# Depletable
m8 = mcdc.material(nuclides=[
	['U235',8.66555e-05],
	['U238',0.0388076],
	['Cr50',5.1193224500000014e-05],
	['Cr52',0.0009872103769],
	['Cr53',0.0001119417321],
	['Cr54',2.7864666500000003e-05],
	['Ni58',0.00032389627482],
	['Ni60',0.00012476426518],
	['Ni61',5.42341622e-06],
	['Ni62',1.72922241e-05],
	['Ni64',4.40381968e-06],
	['Fe54',0.000247826831],
	['Fe56',0.0038903512492],
	['Fe57',8.98451762e-05],
	['Fe58',1.1956743599999999e-05],
	['C0',1.85721e-05],
	['Mo100',7.971917184000001e-07],
	['Mo92',1.1984874264e-06],
	['Mo94',7.516215432e-07],
	['Mo95',1.2986272728000002e-06],
	['Mo96',1.3640781528e-06],
	['Mo97',7.839379152e-07],
	['Mo98',1.9874159712e-06],
	['Mn55',0.000104936],
	['Cu63',1.1807224200000002e-05],
	['Cu65',5.2675758000000005e-06],
	['Si28',6.242547444864e-05],
	['Si29',3.16978747968e-06],
	['Si30',2.08953807168e-06]])
# Material Name: Radial Reflector 2
m9 = mcdc.material(nuclides=[
	['Cr50',5.178501350000001e-05],
	['Cr52',0.0009986224387000002],
	['Cr53',0.0001132357683],
	['Cr54',2.8186779500000003e-05],
	['Ni58',0.00032820894643499995],
	['Ni60',0.000126425498565],
	['Ni61',5.495628884999999e-06],
	['Ni62',1.7522469675e-05],
	['Ni64',4.46245644e-06],
	['Fe54',0.0002519329435],
	['Fe56',0.0039548084342],
	['Fe57',9.13337737e-05],
	['Fe58',1.2154848600000002e-05],
	['C0',1.98501e-05],
	['Mo100',8.065576512e-07],
	['Mo92',1.2125680452000002e-06],
	['Mo94',7.604520875999999e-07],
	['Mo95',1.3138844004e-06],
	['Mo96',1.3801042404e-06],
	['Mo97',7.931481336e-07],
	['Mo98',2.0107654416000002e-06],
	['Mn55',0.00010605800000000002],
	['Cu63',1.1888337150000001e-05],
	['Cu65',5.3037628500000005e-06],
	['Si28',6.351821169728e-05],
	['Si29',3.2252735593599993e-06],
	['Si30',2.1261147433599997e-06]])
# Material Name: Empty Matrix
m10 = mcdc.material(nuclides=[
	['Cr50',5.178501350000001e-05],
	['Cr52',0.0009986224387000002],
	['Cr53',0.0001132357683],
	['Cr54',2.8186779500000003e-05],
	['Ni58',0.00032820894643499995],
	['Ni60',0.000126425498565],
	['Ni61',5.495628884999999e-06],
	['Ni62',1.7522469675e-05],
	['Ni64',4.46245644e-06],
	['Fe54',0.0002519329435],
	['Fe56',0.0039548084342],
	['Fe57',9.13337737e-05],
	['Fe58',1.2154848600000002e-05],
	['C0',1.98501e-05],
	['Mo100',8.065576512e-07],
	['Mo92',1.2125680452000002e-06],
	['Mo94',7.604520875999999e-07],
	['Mo95',1.3138844004e-06],
	['Mo96',1.3801042404e-06],
	['Mo97',7.931481336e-07],
	['Mo98',2.0107654416000002e-06],
	['Mn55',0.00010605800000000002],
	['Cu63',1.1888337150000001e-05],
	['Cu65',5.3037628500000005e-06],
	['Si28',6.351821169728e-05],
	['Si29',3.2252735593599993e-06],
	['Si30',2.1261147433599997e-06]])
mvoid = mcdc.material(nuclides=[['N14',1e-10]])
##############################
#__________Geometry__________
##############################

# Surface(s)
s1 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=24.3435, bc='interface')
s2 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=80.6781, bc='interface')
s3 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=112.2504, bc='interface')
s4 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=140.2589, bc='vacuum')
s5 = mcdc.surface('plane-z', z=0.0, bc='reflective')
s6 = mcdc.surface('plane-z', z=76.2813, bc='interface')
s7 = mcdc.surface('plane-z', z=101.7257, bc='interface')
s8 = mcdc.surface('plane-z', z=106.68, bc='interface')
s9 = mcdc.surface('plane-z', z=110.5357, bc='interface')
s10 = mcdc.surface('plane-z', z=121.92, bc='vacuum')

# Material Cell(s)
c1 = mcdc.cell(-s1 & +s5 & -s6, fill=m1)
c2 = mcdc.cell(+s1 & -s2 & +s5 & -s6, fill=m2)
c3 = mcdc.cell(-s1 & +s6 & -s7, fill=m4)
c4 = mcdc.cell(+s1 & -s2 & +s6 & -s7, fill=m5)
c5 = mcdc.cell(-s1 & +s7 & -s9, fill=m6)
c6 = mcdc.cell(+s1 & -s2 & +s7 & -s9, fill=m7)
c7 = mcdc.cell(+s2 & -s3 & +s5 & -s8, fill=m8)
c8 = mcdc.cell(+s2 & -s3 & +s8 & -s9, fill=m9)
c9 = mcdc.cell(-s3 & +s9 & -s10, fill=m10)
c10 = mcdc.cell(+s3 & -s4 & +s5 & -s10, fill=m10)
# Root Universe Cells List:
u0_cells = []
# Material Universe(s)

##############################
#__________Settings__________
##############################

# Simulation Parameters
mcdc.eigenmode(N_inactive=20, N_active=180)
mcdc.setting(N_particle=10000)

# Source Parameters
# Particle: neutron
# Space Type: box
mcdc.source(x=[-141.0,141.0], y=[-141.0,141.0], z=[0.0,122.0], prob=1.0)

mcdc.run()

