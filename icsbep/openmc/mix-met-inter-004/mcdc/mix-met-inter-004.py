import mcdc
import numpy as np


##############################
#__________Materials__________
##############################

# Material Name: Core
# Depletable
m1 = mcdc.material(nuclides=[
	['Pu240',0.000106605],
	['U235',6.02719e-06],
	['U238',0.00260196],
	['Pu239',0.0016549],
	['Pu242',3.42379e-07],
	['Am241',2.91589e-06],
	['Cr50',7.99805875e-05],
	['Cr52',0.0015423460175],
	['Cr53',0.0001748896575],
	['Cr54',4.35337375e-05],
	['Ni58',0.000538118621433],
	['Ni60',0.000207282329567],
	['Ni61',9.010419343e-06],
	['Ni62',2.8729159665000004e-05],
	['Ni64',7.316469992000001e-06],
	['Fe54',0.00042545228950000003],
	['Fe56',0.006678691081400001],
	['Fe57',0.0001542401029],
	['Fe58',2.0526526200000005e-05],
	['Al27',0.000110408],
	['C0',0.0556078],
	['Mo100',2.04131928e-05],
	['Mo92',3.0688922550000004e-05],
	['Mo94',1.9246305649999998e-05],
	['Mo95',3.3253141350000005e-05],
	['Mo96',3.492910135e-05],
	['Mo97',2.0073810900000003e-05],
	['Mo98',5.08905254e-05],
	['Mn55',9.83153e-05],
	['Cu63',1.930412145e-06],
	['Cu65',8.612178550000001e-07],
	['Si28',8.525361146415999e-05],
	['Si29',4.32893514392e-06],
	['Si30',2.8536533919199997e-06]])
# Material Name: Axial blanket
# Depletable
m2 = mcdc.material(nuclides=[
	['U235',8.28476e-05],
	['U238',0.039635],
	['Cr50',6.2969478e-05],
	['Cr52',0.0012143037036],
	['Cr53',0.00013769229240000001],
	['Cr54',3.4274526e-05],
	['Ni58',0.000421046776503],
	['Ni60',0.000162186464497],
	['Ni61',7.050133313e-06],
	['Ni62',2.2478910015e-05],
	['Ni64',5.7247156720000005e-06],
	['Fe54',0.0003405361295],
	['Fe56',0.0053456889694],
	['Fe57',0.00012345527089999999],
	['Fe58',1.6429630199999998e-05],
	['C0',1.3715100000000002e-05],
	['Mn55',7.06576e-05],
	['H1',3.97871e-06],
	['Si28',6.823686658544e-05],
	['Si29',3.46487339128e-06],
	['Si30',2.28406002328e-06],
	['Cl35',5.212406795309999e-06],
	['Cl37',1.66732320469e-06],
	['F19',2.03717e-05]])
# Material Name: Radial blanket
# Depletable
m3 = mcdc.material(nuclides=[
	['U235',8.34523e-05],
	['U238',0.0399253],
	['Cr50',4.8106102e-05],
	['Cr52',0.0009276782924000001],
	['Cr53',0.00010519127160000001],
	['Cr54',2.6184334000000006e-05],
	['Ni58',0.000308233822437],
	['Ni60',0.000118731116563],
	['Ni61',5.161159427e-06],
	['Ni62',1.6456034685000003e-05],
	['Ni64',4.190866888e-06],
	['Fe54',0.00026413613450000005],
	['Fe56',0.0041463724354000005],
	['Fe57',9.575782190000003e-05],
	['Fe58',1.2743608200000001e-05],
	['C0',8.4026e-06],
	['Mn55',4.35132e-05],
	['H1',2.43087e-06],
	['Si28',5.5884545543040005e-05],
	['Si29',2.83765777248e-06],
	['Si30',1.87059668448e-06],
	['Cl35',3.1933002697199996e-06],
	['Cl37',1.02145973028e-06],
	['F19',1.2481099999999998e-05]])
# Material Name: Drawer gap
m4 = mcdc.material(nuclides=[
	['Cr50',0.000150214471],
	['Cr52',0.0028967365501999997],
	['Cr53',0.0003284666718],
	['Cr54',8.1762307e-05],
	['Ni58',0.00108897170778],
	['Ni60',0.00041946995221999996],
	['Ni61',1.8234068379999998e-05],
	['Ni62',5.8138188900000003e-05],
	['Ni64',1.4806082720000002e-05],
	['Fe54',0.0011228946400000002],
	['Fe56',0.017627044448000003],
	['Fe57',0.000407085328],
	['Fe58',5.4175584000000006e-05],
	['C0',0.000262585],
	['Mn55',0.00023448700000000002],
	['Si28',0.0001391727425264],
	['Si29',7.066794776800001e-06],
	['Si30',4.6584626968e-06]])
# Material Name: Matrix
m5 = mcdc.material(nuclides=[
	['Cr50',4.821212000000001e-05],
	['Cr52',0.0009297227440000001],
	['Cr53',0.000105423096],
	['Cr54',2.6242040000000003e-05],
	['Ni58',0.000308765503026],
	['Ni60',0.00011893591897399999],
	['Ni61',5.170062046e-06],
	['Ni62',1.648442013e-05],
	['Ni64',4.198095824e-06],
	['Fe54',0.000264759796],
	['Fe56',0.0041561625872],
	['Fe57',9.59839192e-05],
	['Fe58',1.27736976e-05],
	['Mn55',4.34957e-05],
	['Si28',5.604797653600001e-05],
	['Si29',2.8459563320000004e-06],
	['Si30',1.8760671320000001e-06]])
mvoid = mcdc.material(nuclides=[['N14',1e-10]])
##############################
#__________Geometry__________
##############################

# Surface(s)
s1 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=34.3564, bc='interface')
s2 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=68.4995, bc='interface')
s3 = mcdc.surface('cylinder-z', center=[0.0, 0.0], radius=96.8226, bc='vacuum')
s4 = mcdc.surface('plane-z', z=0.0, bc='reflective')
s5 = mcdc.surface('plane-z', z=30.5631, bc='interface')
s6 = mcdc.surface('plane-z', z=53.4231, bc='interface')
s7 = mcdc.surface('plane-z', z=54.0581, bc='interface')
s8 = mcdc.surface('plane-z', z=60.96, bc='interface')
s9 = mcdc.surface('plane-z', z=61.6781, bc='interface')
s10 = mcdc.surface('plane-z', z=85.09, bc='vacuum')

# Material Cell(s)
c1 = mcdc.cell(-s1 & +s4 & -s5, fill=m1)
c2 = mcdc.cell(-s1 & +s5 & -s6, fill=m2)
c3 = mcdc.cell(-s1 & +s7 & -s9, fill=m2)
c4 = mcdc.cell(-s1 & +s6 & -s7, fill=m4)
c5 = mcdc.cell(+s1 & -s2 & +s4 & -s8, fill=m3)
c6 = mcdc.cell(-s1 & +s9 & -s10, fill=m5)
c7 = mcdc.cell(+s1 & -s2 & +s8 & -s10, fill=m5)
c8 = mcdc.cell(+s2 & -s3 & +s4 & -s10, fill=m5)
# Root Universe Cells List:
u0_cells = []
# Material Universe(s)

##############################
#__________Settings__________
##############################

# Simulation Parameters
mcdc.eigenmode(N_inactive=20, N_active=180)
mcdc.setting(N_particle=10000)

# Source Parameters
# Particle: neutron
# Space Type: box
mcdc.source(x=[-97.0,97.0], y=[-97.0,97.0], z=[0.0,86.0], prob=1.0)

mcdc.run()

